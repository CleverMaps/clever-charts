!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("d3")):"function"==typeof define&&define.amd?define(["d3"],e):t.Histogram=e(t.d3)}(this,function(t){"use strict";function e(t){var e=t.getMinMax(),n=l,i=e.min,a=(e.max-e.min)/n.length;return n.map(function(t){var e=i,n=i+a;return i+=a,{from:e,to:n,color:t}})}function n(t,e,n,i){var a=t.getLabelBox(),r=e.getLabelBox(),o=r.x-(a.x+a.width)-n;if(o<0){var s=o/2,l=o/2;a.x+s<0&&(s=a.x,l*=2);var h=r.x+r.width-l;if(h>i){l+=h-i-2,s*=2}return[s,-l]}return[0,0]}function i(t,e){return void 0===t?e:t}var a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];a(this,t),this._handlers=e.reduce(function(t,e){return t[e]=[],t},{})}return r(t,[{key:"on",value:function(t,e){if(!(t in this._handlers))throw"No such event: "+t;return this._handlers[t].push(e),this}},{key:"fire",value:function(t){if(!(t in this._handlers))throw"No such event: "+t;for(var e=this._handlers[t],n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];for(var r=0;r<e.length;r++)e[r].apply(this,i);return this}}]),t}(),s={top:0,left:5,right:5,bottom:25},l=["#e6f3fb","#cbe7f6","#b1dbf2","#98cfee","#7ec4ea"],h=function(){function e(t,n){a(this,e),this._histogramData=this._loadHistogramData(t,n.width),this._minMax=this._calculateMinMax(this._histogramData),this._options=n}return r(e,[{key:"getMinMax",value:function(){return this._minMax}},{key:"getData",value:function(){return this._histogramData}},{key:"_calculateMinMax",value:function(e){return{min:t.min(e,function(t){return t.value}),max:t.max(e,function(t){return t.value})}}},{key:"getValueRatio",value:function(){return(this._minMax.max-this._minMax.min)/this._options.width}},{key:"getPrecision",value:function(){var t=this._minMax.min,e=t.toString().split(".");return e.length>1?e[1].length:0}},{key:"positionToValue",value:function(t){return t*this.getValueRatio()+this.getMinMax().min}},{key:"valueToPosition",value:function(t){var e=this.getValueRatio(),n=this.getMinMax();return Math.round(t/e-n.min/e)}},{key:"_loadHistogramData",value:function(e,n){var i=[],a=(n-1)/e.length;return e.forEach(function(n,r){var o=(n.max-n.min)/a;t.range(n.min,n.max,o).forEach(function(t,e){i.push({value:t,volume:n.content[0].frequency})}),r==e.length-1&&i.push({value:n.max,volume:n.content[0].frequency})}),i}}]),e}(),u=function(){function t(e){a(this,t),this._selection=e.slice()}return r(t,[{key:"getSelection",value:function(){return this._selection}},{key:"getSelectionPoints",value:function(){var t=[],e=this.getSelection();return e.forEach(function(n,i){t.push(n.from),i==e.length-1&&t.push(n.to)}),t}}]),t}(),_=function(t,e){if("undefined"==typeof document)return e;t=t||"";var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");return i.type="text/css",i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t)),n.appendChild(i),e}("text {\r\n    font-size: 10px;\r\n    font-family: Roboto;\r\n}\r\n\r\n._bar_iaaj7_11 {\r\n\r\n}\r\n\r\ng {\r\n    border:1px solid #eeeeee;\r\n}\r\n\r\ng ._selectionbar_iaaj7_27 {\r\n    cursor:default;\r\n}\r\n\r\n._x-axis_iaaj7_35>path {\r\n    stroke: #F1F1F1;\r\n}\r\n\r\n._x-axis_iaaj7_35 {\r\n    border:0;\r\n}\r\n\r\ng > text {\r\n    user-select: none;\r\n}\r\n\r\n._x-axis_iaaj7_35>._tick_iaaj7_59>text {\r\n    fill:#7d7d7d;\r\n}\r\n\r\ng._active_iaaj7_67 ._custom-handle-circle_iaaj7_67 {\r\n    stroke:#4a4a4a;\r\n}\r\n\r\ng._inactive_iaaj7_75:not(._dragging_iaaj7_75) ._custom-handle-circle_iaaj7_67 {\r\n    stroke:#bababa;\r\n    r:2.5;\r\n}\r\n\r\n\r\ng._inactive_iaaj7_75._dragging_iaaj7_75 ._custom-handle-circle_iaaj7_67 {\r\n    stroke:#4a4a4a;\r\n}    \r\n\r\ng._brush-drag_iaaj7_95 ._custom-handle-circle_iaaj7_67 {\r\n    stroke:#4a4a4a;\r\n}    \r\n\r\n._custom-handle-circle_iaaj7_67 {\r\n    transition: r 0.1s ease-out;\r\n    pointer-events: none;\r\n}\r\n\r\n._brush-axis-line_iaaj7_113 {\r\n    stroke:#4a4a4a;\r\n    display: none;\r\n    stroke-width: 1px;\r\n}\r\n\r\n._custom-handle-line_iaaj7_125 {\r\n    stroke-width:0;\r\n    fill:#4A4A4A;\r\n    pointer-events: none;\r\n}\r\n\r\n._handle_iaaj7_137 {\r\n    transition: all 0.05s ease-out;\r\n}\r\n\r\n._brush_iaaj7_95>._selection_iaaj7_27 {\r\n    fill: rgba(0, 0, 0, 0);\r\n    stroke: transparent;\r\n    cursor: grab;\r\n    cursor: -webkit-grab;\r\n    cursor: -moz-grab;\r\n}\r\n\r\n._brush_iaaj7_95>._overlay_iaaj7_161._grabbing_iaaj7_161,\r\n._brush_iaaj7_95>._selection_iaaj7_27._grabbing_iaaj7_161 {\r\n    cursor: grabbing ;\r\n    cursor: -webkit-grabbing ;\r\n    cursor: -moz-grabbing ;\r\n}\r\n\r\n._custom-handle_iaaj7_67 {\r\n\r\n}\r\n\r\n._drag-label_iaaj7_183 {\r\n    fill:#4A4A4A;\r\n}",{bar:"_bar_iaaj7_11",selectionbar:"_selectionbar_iaaj7_27","x-axis":"_x-axis_iaaj7_35",tick:"_tick_iaaj7_59",active:"_active_iaaj7_67","custom-handle-circle":"_custom-handle-circle_iaaj7_67",inactive:"_inactive_iaaj7_75",dragging:"_dragging_iaaj7_75","brush-drag":"_brush-drag_iaaj7_95","brush-axis-line":"_brush-axis-line_iaaj7_113","custom-handle-line":"_custom-handle-line_iaaj7_125",handle:"_handle_iaaj7_137",brush:"_brush_iaaj7_95",selection:"_selection_iaaj7_27",overlay:"_overlay_iaaj7_161",grabbing:"_grabbing_iaaj7_161","custom-handle":"_custom-handle_iaaj7_67","drag-label":"_drag-label_iaaj7_183"}),c=0,d=function(){function e(t,n,i,r,s){a(this,e),this._observable=new o(["drag","startDrag","endDrag"]),this._handleEl=null,this._handleLineEl=null,this._handleCircleEl=null,this._handleMaskEl=null,this._handleMaskGradientEl=null,this._handleLabelEl=null,this._isOver=!1,this._groupEl=t,this._index=i,this._value=n,this._position=r.valueToPosition(n),this._options=s,this._histogramData=r,this._elements=[],this._renderHandle()}return r(e,[{key:"destroy",value:function(){this._elements.forEach(function(t){return t.remove()}),this._elements=[]}},{key:"_renderHandle",value:function(){this._elements=[this._createHandleElement(),this._createHandleLineElement(),this._createHandleCircleElement(),this._createDragMaskElement(),this._createMaskGradientElement(),this._createDragLabelElement()],this._handleHoverState(),this._handleDrag()}},{key:"on",value:function(t,e){return this._observable.on(t,e),this}},{key:"getXPosition",value:function(){return parseInt(this._handleEl.attr("x"))+5}},{key:"setHoverState",value:function(){this._handleLineEl.attr("fill-opacity",1),this._handleLabelEl.attr("fill-opacity",1),this._handleMaskEl.attr("visibility","visible"),this._handleCircleEl.attr("stroke-width",3)}},{key:"getLabelBox",value:function(){return this._handleLabelEl.node().getBBox()}},{key:"setLabelOffset",value:function(t){this._handleLabelEl.attr("transform","translate("+t+", 0)"),this._handleMaskEl.attr("transform","translate("+t+", 0)")}},{key:"setHandleXPosition",value:function(t){this._handleCircleEl.attr("transform","translate("+t+", "+this._options.height+")")}},{key:"unsetHoverState",value:function(){this._handleLineEl.attr("fill-opacity",0),this._handleLabelEl.attr("fill-opacity",0),this._handleMaskEl.attr("visibility","hidden"),this._handleCircleEl.attr("stroke-width",1),this._handleLabelEl.attr("transform","translate(0, 0)"),this._handleMaskEl.attr("transform","translate(0, 0)")}},{key:"enable",value:function(){this._elements.forEach(function(t){return t.attr("pointer-events","all")})}},{key:"disable",value:function(){this._elements.forEach(function(t){return t.attr("pointer-events","none")})}},{key:"_handleHoverState",value:function(){var t=this;this._handleEl.on("mouseover",function(){t._isOver=!0,t.setHoverState()}),this._handleEl.on("mouseout",function(){t._isOver=!1,t.unsetHoverState()})}},{key:"_onStartDrag",value:function(){this._groupEl.classed(_.dragging,!0),this._observable.fire("startDrag",this)}},{key:"_onDrag",value:function(){var e=this,n=this._options.width,i=this._options.height,a=Math.round(Math.max(Math.min(t.event.x,n),0)),r=this._options.format;this._handleEl.attr("x",a-5),this._handleLineEl.attr("x",a-2),this._handleCircleEl.attr("transform","translate("+a+","+i+")"),this._handleEl.attr("data-handle-value",this._histogramData.positionToValue(a)),this.setHoverState(),this._handleLabelEl.text(function(){return r(e._histogramData.positionToValue(a))}),this._updateLabelPosition(a),this._observable.fire("drag")}},{key:"_onEndDrag",value:function(){this._groupEl.classed(_.dragging,!1),this._isOver||this.unsetHoverState(),this._observable.fire("endDrag",this)}},{key:"_handleDrag",value:function(){this._handleEl.call(t.drag().on("drag",this._onDrag.bind(this)).on("start",this._onStartDrag.bind(this)).on("end",this._onEndDrag.bind(this)))}},{key:"_updateLabelPosition",value:function(t){var e=this._handleLabelEl.node(),n=this._options.maskPadding,i=e.getComputedTextLength(),a=i+2*n,r=t-i/2;r<0&&(r=0),r+i>this._options.width?(r=this._options.width-i,this._handleLabelEl.attr("x",this._options.width),this._handleLabelEl.attr("text-anchor","end")):(this._handleLabelEl.attr("x",r),this._handleLabelEl.attr("text-anchor","start")),this._handleMaskEl.attr("x",function(){return parseInt(r)-n}),this._handleMaskGradientEl.attr("x1",r-n),this._handleMaskGradientEl.attr("x2",r+a-n),this._handleMaskEl.attr("width",a),this._handleMaskEl.attr("height",20)}},{key:"_createMaskGradientElement",value:function(){return this._handleMaskGradientEl=this._groupEl.append("linearGradient").attr("id","brush-mask-gradient-"+c++).attr("gradientUnits","userSpaceOnUse").attr("y1",0).attr("x1",50).attr("y2",0).attr("x2",0),this._handleMaskGradientEl.selectAll("stop").data([{offset:"0%",color:"rgba(255,255,255,0)"},{offset:"20%",color:"rgba(255,255,255,1)"},{offset:"80%",color:"rgba(255,255,255,1)"},{offset:"100%",color:"rgba(255,255,255,0)"}]).enter().append("stop").attr("offset",function(t){return t.offset}).attr("stop-color",function(t){return t.color}),this._handleMaskGradientEl}},{key:"_createHandleElement",value:function(){return this._handleEl=this._groupEl.append("rect").attr("class",_["custom-handle"]).attr("fill-opacity",0).attr("data-handle-index",this._index).attr("data-handle-value",this._value).attr("cursor","ew-resize").attr("width",10).attr("height",this._options.height+5).attr("x",this._position-5),this._handleEl}},{key:"_createHandleLineElement",value:function(){return this._handleLineEl=this._groupEl.append("rect").attr("class",_["custom-handle-line"]).attr("width",4).attr("height",this._options.height).attr("fill-opacity",0).attr("x",this._position-2),this._handleLineEl}},{key:"_createHandleCircleElement",value:function(){return this._handleCircleEl=this._groupEl.append("circle").attr("class",_["custom-handle-circle"]).attr("transform","translate("+this._position+","+this._options.height+")").attr("fill","#ffffff").attr("fill-opacity",1).attr("stroke","#000").attr("stroke-width",1).attr("cursor","ew-resize").attr("r",3.5),this._handleCircleEl}},{key:"_createDragMaskElement",value:function(){return this._handleMaskEl=this._groupEl.append("rect").attr("class",_["drag-label-mask"]).attr("fill","url(#brush-mask-gradient-"+c+")").attr("y",this._options.height+12).attr("visibility","hidden"),this._handleMaskEl}},{key:"_createDragLabelElement",value:function(){var t=this,e=this._options.format,n=this._histogramData,i=this._options.height;return this._handleLabelEl=this._groupEl.append("text").attr("class",_["drag-label"]).attr("fill-opacity",0).text(function(){return e(n.positionToValue(t._position))}).attr("y",i+22),this._updateLabelPosition(this._position),this._handleLabelEl}}]),e}(),f=function(){function e(n){a(this,e),this._options=n,this._containerEl=null,this._groupEl=null,this._svgEl=null,this._historyData=null,this._xAxis=t.scaleBand().range([0,n.width]),this._yAxis=t.scaleLinear().range([n.height,0]),this._overSelectionIndex=null,this._rendered=!1,this._draggingHandle=!1,this._prevData=null,this._prevSelection=null,this._observable=new o(["selectionOver","toggleSelection","selectionChanged"])}return r(e,[{key:"isRendered",value:function(){return this._rendered}},{key:"on",value:function(t,e){return this._observable.on(t,e),this}},{key:"render",value:function(e){var n=this._containerEl=t.select(e),i=this._options.width,a=this._options.height,r=s,o=this._svgEl=n.append("svg").attr("width",i+r.left+r.right).attr("height",a+r.top+r.bottom),l=this._groupEl=this._svgEl.append("g").classed(_.inactive,!0).attr("transform","translate("+r.left+","+r.top+")");return o.on("mouseover.hover",function(){l.classed(_.active,!0),l.classed(_.inactive,!1)}),o.on("mouseout.hover",function(){l.classed(_.inactive,!0),l.classed(_.active,!1)}),this._rendered=!0,this}},{key:"_clear",value:function(){this._groupEl.node().innerHTML=""}},{key:"_destroyHandles",value:function(){this._handles.forEach(function(t){return t.destroy()}),this._handles=[]}},{key:"_onHandleClick",value:function(t,e){var n=this,i=window.prompt("value",this._options.format(e));if(null!=i){var a=this._histogramData.getMinMax();i=Math.min(a.max,i),i=Math.max(a.min,i);var r=this._histogramSelection.getSelectionPoints();r[t]=i;var o=r.map(function(t){return n._histogramData.valueToPosition(t)}).sort(function(t,e){return t-e});this._updateSelectionPositions(o),this._updateSelection(),this._destroyHandles(),this._renderHandles()}}},{key:"_toggleSelection",value:function(t){var e=this._options.selection[t];e.disabled=!e.disabled;var n=!e.disabled;this._updateSelection(),this._observable.fire("toggleSelection",t,n)}},{key:"_onClick",value:function(){var e=t.select(t.event.target),n=e.attr("data-selection-index"),i=e.attr("data-handle-index");null!=n?this._toggleSelection(n):null!=i&&this._onHandleClick(i,e.attr("data-handle-value"))}},{key:"_handleClick",value:function(){this._groupEl.on("click",this._onClick.bind(this))}},{key:"refresh",value:function(e,n){return this._histogramSelection&&(this._prevSelection=this._histogramSelection.getSelection()),this._histogramData=e,this._histogramSelection=n,this._clear(),this._xAxis.domain(e.getData().map(function(t){return t.value})),this._yAxis.domain([0,t.max(e.getData(),function(t){return t.volume})]),this._renderXAxis(),this._renderDataBars(),this._renderSelection(),this._updateSelection(),this._handleHoverState(),this._options.enableSelectionToggle&&this._handleClick(),this._prevData=e.getData(),this}},{key:"_updateSelectionControlsHoverState",value:function(t){var e=this._handles.slice().sort(function(t,e){return t.getXPosition()-e.getXPosition()});if(e.forEach(function(t){return t.unsetHoverState()}),null!=t){var i=e[t],a=e[t+1];i.setHoverState(),a.setHoverState();var r=n(i,a,this._options.maskPadding,this._options.width);i.setLabelOffset(r[0]),a.setLabelOffset(r[1])}}},{key:"_onSelectionMouseOver",value:function(e,n,i){if(!this._draggingHandle){t.select(i[n]).attr("fill","rgba(0,0,0,0.00)");var a=parseInt(t.select(t.event.target).attr("data-selection-index"));this._overSelectionIndex!=a&&(this._overSelectionIndex=a,this._updateSelection(),this._updateSelectionControlsHoverState(a),this._observable.fire("selectionOver",this._overSelectionIndex))}}},{key:"_onSelectionMouseOut",value:function(e,n,i){this._draggingHandle||(t.select(i[n]).attr("fill","rgba(0,0,0,0)"),this._overSelectionIndex=null,this._updateSelectionControlsHoverState(null),this._updateSelection(),this._observable.fire("selectionOver",this._overSelectionIndex))}},{key:"_handleHoverState",value:function(){var t=this._groupEl;t.selectAll("."+_.selectionbar).on("mouseout",this._onSelectionMouseOut.bind(this)),t.selectAll("."+_.selectionbar).on("mouseover",this._onSelectionMouseOver.bind(this))}},{key:"_onHandleDrag",value:function(){var t=this._handles.map(function(t){return t.getXPosition()}).sort(function(t,e){return t-e});this._updateSelectionPositions(t)}},{key:"_updateSelectionPositions",value:function(t){var e=this,n=this._histogramSelection.getSelection();t.forEach(function(i,a){a>n.length-1||(n[a].from=e._histogramData.positionToValue(i),n[a].to=e._histogramData.positionToValue(t[a+1]))}),this._updateSelection()}},{key:"_renderSelection",value:function(){var t=this._options.height,e=this._histogramSelection.getSelection();this._groupEl.selectAll("."+_.selectionbar).data(e).enter().append("rect").attr("class",_.selectionbar).attr("y",0).attr("fill","rgba(0,0,0,0.00)").attr("height",t),this._renderHandles()}},{key:"_renderHandles",value:function(){var t=this;this._handles=this._histogramSelection.getSelectionPoints().map(function(e,n){var i=new d(t._groupEl,e,n,t._histogramData,t._options);i.on("drag",function(){t._onHandleDrag()},t);var a;return i.on("startDrag",function(){a=JSON.stringify(t._options.selection),t._draggingHandle=!0,t._handles.forEach(function(t){return t.disable()}),i.enable()},t),i.on("endDrag",function(){t._draggingHandle=!1,t._handles.forEach(function(t){return t.enable()}),JSON.stringify(t._options.selection)!=a&&t._observable.fire("selectionChanged",t._options.selection)},t),i})}},{key:"_renderDataBars",value:function(){var e=this._histogramData.getData(),n=this._prevData,i=this._options.height,a=this._xAxis,r=this._yAxis;n?(a.domain(n.map(function(t){return t.value})),r.domain([0,t.max(n,function(t){return t.volume})]),this._groupEl.selectAll("."+_.bar).data(n).enter().append("rect").attr("class",_.bar).attr("x",function(t){return a(t.value)}).attr("width",a.bandwidth()).attr("y",function(t){return Math.floor(r(t.volume))}).attr("height",function(t){return Math.ceil(i-r(t.volume))}),a.domain(e.map(function(t){return t.value})),r.domain([0,t.max(e,function(t){return t.volume})]),this._groupEl.selectAll("."+_.bar).data(e).transition().duration(500).attr("y",function(t){return Math.floor(r(t.volume))}).attr("height",function(t){return Math.ceil(i-r(t.volume))})):this._groupEl.selectAll("."+_.bar).data(e).enter().append("rect").attr("class",_.bar).attr("x",function(t){return a(t.value)}).attr("width",a.bandwidth()).attr("y",function(t){return Math.floor(r(t.volume))}).attr("height",function(t){return Math.ceil(i-r(t.volume))})}},{key:"_getBarSelectionIndex",value:function(t,e){for(var n=0;n<e.length;n++){var i=e[n];if(t>=this._histogramData.valueToPosition(i.from)&&t<this._histogramData.valueToPosition(i.to))return n}return null}},{key:"_getBarColor",value:function(t,e){var n=this._options.inactiveBarColor,i=this._options.overSelectionColor,a=this._getBarSelectionIndex(t,e);return null==a?n:e[a].disabled?n:this._overSelectionIndex==a?i:e[a].color||this._options.selectionColor}},{key:"_onSelectionTransition",value:function(t,e,n){var i=this,a=this._histogramData;t.forEach(function(r,o){var s=e[o],l=i._options.width;if(t[o]){var h=[],u=[];h.push([a.valueToPosition(r.from),a.valueToPosition(s.from)]),h.push([a.valueToPosition(r.to),a.valueToPosition(s.to)]),u=[Math.abs((h[0][0]-h[0][1])/l),Math.abs((h[1][0]-h[1][1])/l)],h.forEach(function(t,e){for(var a=0;t[0]!==t[1];)setTimeout(n.bind(i,t[0],o,e),a),a+=1/u[e],t[0]=t[0]>t[1]?t[0]-1:t[0]+1})}})}},{key:"_updateSelection",value:function(){var e=this,n=this._histogramSelection.getSelection(),i=this._groupEl.selectAll("."+_.bar),a=function(t){i.attr("fill",function(n){var i=e._histogramData.valueToPosition(n.value);return e._getBarColor(i,t)})};this._prevSelection?(a(this._prevSelection),this._prevSelection.forEach(function(t,n){e._handles[n].setHandleXPosition(e._histogramData.valueToPosition(t.from)),e._handles[n+1].setHandleXPosition(e._histogramData.valueToPosition(t.to))}),this._onSelectionTransition(this._prevSelection,n,function(a,r,o){t.select(i.nodes()[a-1]).attr("fill",e._getBarColor(a,n)),[e._handles[r],e._handles[r+1]][o].setHandleXPosition(a)}),this._prevSelection=null):a(n),this._groupEl.selectAll("."+_.selectionbar).data(n).attr("data-selection-index",function(t,e){return e}).attr("x",function(t){return e._histogramData.valueToPosition(t.from)}).attr("width",function(t){return e._histogramData.valueToPosition(t.to)-e._histogramData.valueToPosition(t.from)})}},{key:"_renderXAxis",value:function(){var e=this._histogramData.getMinMax(),n=this._options.format,i=this._options.width,a=this._options.height,r=t.axisBottom(this._xAxis).tickValues([e.min,e.max]).tickSize(0).tickFormat(n).tickPadding(15),o=this._groupEl.append("g").attr("transform","translate(0,"+a+")").classed(_["x-axis"],!0).call(r);o.selectAll(".tick").attr("transform",function(t,e){return["translate(0,0)","translate("+i+",0)"][e]}),o.selectAll(".tick>text").attr("x",0),o.selectAll(".tick").attr("text-anchor",function(t,e){return["start","end"][e]})}}]),e}();return function(){function n(t){var e=this;a(this,n),this._options={},this._options.width=i(t.width,360),this._options.height=i(t.height,150),this._options.format=i(t.format,null),this._options.inactiveBarColor=i(t.inactiveBarColor,"#f0f0f0"),this._options.overSelectionColor=i(t.overSelectionColor,"#ffea00"),this._options.selectionColor=i(t.selectionColor,"#49ace2"),this._options.enableSelectionToggle=i(t.enableSelectionToggle,!0),this._options.maskPadding=i(t.maskPadding,10),this._options.selection=i(t.selection,null),this._observable=new o(["selectionOver","toggleSelection","selectionChanged"]),this._histogramRenderer=new f(this._options),this._histogramRenderer.on("selectionOver",function(t){e._observable.fire("selectionOver",t)}),this._histogramRenderer.on("toggleSelection",function(t,n){e._observable.fire("toggleSelection",t,n)}),this._histogramRenderer.on("selectionChanged",function(t){e._observable.fire("selectionChanged",t)})}return r(n,[{key:"on",value:function(t,e){return this._observable.on(t,e),this}},{key:"render",value:function(t){return this._histogramRenderer.render(t),this}},{key:"setData",value:function(n,i){if(!this._histogramRenderer.isRendered())throw"Can't call setData() when widget is not rendered, please call .render() first.";var a=new h(n,this._options);this._options.selection=i||e(a),this._options.format?"string"==typeof this._options.format&&(this._options.format=t.format(this._options.format)):this._options.format=t.format(",."+a.getPrecision()+"f");var r=new u(this._options.selection);return this._histogramRenderer.refresh(a,r),this}}]),n}()});
//# sourceMappingURL=histogram.min.js.map
